%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{System Types and Classes} 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{figure}
  \begin{center}
    \boxGOO{%
      \T\index{T}%
      \boxGOO{%
        \kwd*{NUMBER}
        \boxGOO{%
          \kwd*{COMPLEX } \Op{\VAR{type\footnotemark[3]}} \\
          \kwd*{REAL } \OP{\VAR{lower-limit\footnotemark[3] }\Op{\VAR{upper-limit\footnotemark[3]}}}\\
          \boxGOO{%
            \kwd*{RATIONAL } \OP{\VAR{lower-limit\footnotemark[3] }\Op{\VAR{upper-limit\footnotemark[3]}}}\\
            \boxGOO{%
              \kwd*{INTEGER } \OP{\VAR{lower-limit\footnotemark[3] }\Op{\VAR{upper-limit\footnotemark[3]}}}\\
              \boxGOO{%
                \kwd*{FIXNUM} \\
                \kwd*{BIGNUM} \\
                \kwd*{SIGNED-BYTE } \Op{\VAR{size\footnotemark[3]}}\\
                \boxGOO{\kwd*{UNSIGNED-BYTE } \Op{\VAR{size\footnotemark[3]}}
                  \boxGOO{\kwd*{BIT} }}}\\
              \kwd*{RATIO}}\\
            \kwd*{FLOAT } \OP{\VAR{lower-limit\footnotemark[3] }\Op{\VAR{upper-limit\footnotemark[3]}}}\\
            \boxGOO{%
              \kwd*{SHORT-FLOAT } \OP{\VAR{lower-limit\footnotemark[3] }\Op{\VAR{upper-limit\footnotemark[3]}}}\\
              \kwd*{SINGLE-FLOAT } \OP{\VAR{lower-limit\footnotemark[3] }\Op{\VAR{upper-limit\footnotemark[3]}}}\\
              \kwd*{DOUBLE-FLOAT } \OP{\VAR{lower-limit\footnotemark[3] }\Op{\VAR{upper-limit\footnotemark[3]}}}\\
              \kwd*{LONG-FLOAT } \OP{\VAR{lower-limit\footnotemark[3] }\Op{\VAR{upper-limit\footnotemark[3]}}}}}}\\
        \kwd*{SEQUENCE}
        \boxGOO{%
          \kwd*{LIST}
          \boxGOO{%
            \kwd*{CONS } \OP{\VAR{car-type\footnotemark[3] }\Op{\VAR{cdr-type\footnotemark[3]}}}\\
          \kwd*{SYMBOL}\footnotemark[2]
          \boxGOO{
            \kwd*{NULL}}}\\
          \kwd*{ARRAY}\footnotemark[2] \OP{\VAR{type\footnotemark[3] }\Op{\VAR{dimension\footnotemark[3]}}}\\
          \boxGOO{%
            \kwd*{SIMPLE-ARRAY}\footnotemark[2] \OP{\VAR{type\footnotemark[3] }\Op{\VAR{dimension\footnotemark[3]}}}\\
            \boxGOO{%
              \kwd*{VECTOR}\footnotemark[2] \OP{\VAR{type\footnotemark[3] }\Op{\VAR{size\footnotemark[3]}}}\\
              \boxGOO{%
                \kwd*{SIMPLE-VECTOR } \Op{\VAR{size\footnotemark[3]}}\\
                \kwd*{BIT-VECTOR}\footnotemark[2] \Op{\VAR{size\footnotemark[3]}}\\
                \boxGOO{%
                  \kwd*{SIMPLE-BIT-VECTOR } \Op{\VAR{size\footnotemark[3]}}}\\
                \kwd*{STRING}\footnotemark[2] \Op{\VAR{size\footnotemark[3]}}\\
                \boxGOO{%
                  \kwd*{SIMPLE-STRING } \Op{\VAR{size\footnotemark[3]}}\\
                  \boxGOO{%
                    \kwd*{BASE-STRING}\footnotemark[2] \Op{\VAR{size\footnotemark[3]}}\\
                    \boxGOO{%
                      \kwd*{SIMPLE-BASE-STRING } \Op{\VAR{size\footnotemark[3]}}}}}}}\\
            \kwd*{VECTOR}\footnotemark[2]  \OP{\VAR{type\footnotemark[3] }\Op{\VAR{size\footnotemark[3]}}}\\
            \boxGOO{%
              \kwd*{BIT-VECTOR}\footnotemark[2] \Op{\VAR{size\footnotemark[3]}}\\
              \kwd*{STRING}\footnotemark[2] \Op{\VAR{size\footnotemark[3]}}
              \boxGOO{%
                \kwd*{BASE-STRING}\footnotemark[2] \Op{\VAR{size\footnotemark[3]}}}}}}\\
        \kwd*{CHARACTER}
        \boxGOO{%
          \kwd*{BASE-CHAR}
          \boxGOO{%
            \kwd*{STANDARD-CHAR}}\\
          \kwd*{EXTENDED-CHAR}}\\
        \kwd*{STREAM}
        \boxGOO{%
          \kwd*{FILE-STREAM},\>
          \kwd*{TWO-WAY-STREAM},\>
          \kwd*{SYNONYM-STREAM},\\
          \kwd*{STRING-STREAM},\>
          \kwd*{BROADCAST-STREAM},\>
          \kwd*{ECHO-STREAM}\\
          \kwd*{CONCATENATED-STREAM}}\\
        \kwd*{PATHNAME}
        \boxGOO{%
          \kwd*{LOGICAL-PATHNAME}}\\
        \kwd*{SYMBOL}\footnotemark[2]
        \boxGOO{%
          \kwd*{KEYWORD}\\
          \kwd*{BOOLEAN} }\\
        \kwd*{FUNCTION } \OP{\VAR{arg-types }\Op{\VAR{value-types}}}\\
        \boxGOO{%
          \kwd*{GENERIC-FUNCTION}
          \boxGOO{\kwd*{STANDARD-GENERIC-FUNCTION}}\\
          \kwd*{COMPILED-FUNCTION}}\\
        \kwd*{STANDARD-OBJECT}
        \boxGOO{%
          \kwd*{CLASS}
          \boxGOO{%
            \kwd*{STANDARD-CLASS},\>
            \kwd*{BUILT-IN-CLASS},\\
            \kwd*{STRUCTURE-CLASS}}\\
          \kwd*{STANDARD-METHOD}}\\
        \kwd*{ARRAY}\footnotemark[2] \OP{\VAR{type\footnotemark[3] }\Op{\VAR{dimension\footnotemark[3]}}}\\
        \boxGOO{%
          \kwd*{SIMPLE-ARRAY}\footnotemark[2] \OP{\VAR{type\footnotemark[3] }\Op{\VAR{dimension\footnotemark[3]}}}}\\
        \kwd*{ATOM},\>
        \kwd*{HASH-TABLE},\>
        \kwd*{STRUCTURE-OBJECT},\>
        \kwd*{PACKAGE},\>
        \kwd*{READTABLE},\\
        \kwd*{RANDOM-STATE},\>
        \kwd*{RESTART},\>
        \kwd*{METHOD},\>
        \kwd*{METHOD-COMBINATION}}}
  \end{center}\vspace{-1em}
              {\footnotesize\footnotemark[2]Multiply defined.}\\
              {\footnotesize\footnotemark[3]Defaults to \kwd{*} meaning no restriction.}
              
  \caption{Data Types.}%
\end{figure}


\begin{LIST}{1cm}

  \IT{(\FU*{TYPEP} \VAR{foo} \VAR{type} \Op{\VAR{environment}})}
  {
  Return \retval{\T} if \VAR{foo} is of \VAR{type}.
  }

  \IT{(\FU*{SUBTYPEP} \VAR{type-a} \VAR{type-b}
    \Op{\VAR{environment}})}
  {
  Return \retval{\T} if \VAR{type-a} is a recognizable subtype of
  \VAR{type-b}, and \retvalii{\NIL} if the relationship could not be
  determined. 
  }

  \IT{(\SF*{THE} \VAR{type} {form})}
  {
  Return \retval{values} of \VAR{form} which are declared to be of
  \VAR{type}. 
  }

  \IT{(\FU*{COERCE} \VAR{object} \VAR{type})}
  {
  Coerce \VAR{object} into \VAR{type}.
  }

  \IT{(\SF*{TYPECASE} \VAR{foo} \OPn{(\VAR{type} \OPn{\VAR{form-a}})} 
    \OP{(\xorGOO{\kwd*{OTHERWISE}\\\T}{\}}\OPn{\VAR{form-b}})\DF{\NIL}})}
  {
  Return \retval{values of a \VAR{form-a}} if \VAR{foo} is of this
  \VAR{type}. Return \retval{values of \VAR{form-b}} otherwise. 
  }

  \IT{(\xorGOO{\SF*{CTYPECASE}\\
      \SF*{ETYPECASE}
    }{\}}\VAR{foo} \OPn{(\VAR{type} \OPn{\VAR{form}})})}
  {
  Return \retval{value of a \VAR{form}} if \VAR{foo} is of this \VAR{type}.
  Signal correctable/non-correctable error, respectively.
  }

  \IT{(\FU*{TYPE-OF} \VAR{foo})}
  {
  \retval{Type of \VAR{foo}}.
  }

  \IT{(\kwd*{CHECK-TYPE} \VAR{place} \VAR{type} \Op{\VAR{string}})}
  {
  Return \retval{\NIL} and signal correctable error if \VAR{place} is
  not of {type}. 
  }

  \IT{(\FU*{STREAM-ELEMENT-TYPE} \VAR{stream})}
  {
  Return \retval{type} of \VAR{stream} objects.
  }

  \IT{(\FU*{ARRAY-ELEMENT-TYPE} \VAR{array})}
  {
  Element \retval{type} \VAR{array} holds.
  }

  \IT{(\FU*{UPGRADED-ARRAY-ELEMENT-TYPE} \VAR{type}
    \Op{\VAR{environment}})}
  {
  \retval{Element type} of most specialized array capable of holding
  elements of \VAR{type}. 
  }

  \IT{(\SF*{DEFTYPE} \VAR{name} \OPn{\VAR{arg}} 
    \OPn{(\kwd{declare} \OPn{\VAR{decl}})} \Op{\VAR{documentation}} 
    \OPn{\VAR{form}})}
  {
  Define new type \retval{\VAR{name}}.
  }

  \IT{\T)}
  {
    \index{T}%
  Supertype of every type including \kwd{t}; or superclass of every
  class except \kwd{t}.
  }

  \IT{\NIL}
  {
    \index{NIL}%
  The empty type, subtype of every type.
  }

  \IT{\arrGOO{(\kwd{EQL} \VAR{foo})\\
      (\kwd{MEMBER} \OPn{\VAR{foo}})}{.}}
  {
  Type specifier, comprising just \VAR{foo} of \VAR{foo}s, respectively.
  }

  \IT{(\kwd*{SATISFIES} \VAR{name})}
  {
  Type specifier for all objects satisfying predicate \VAR{name}. 
  }

  \IT{(\kwd*{MOD} \VAR{n})}
  {
  Type specifier for all integers $<n$.
  }

  \IT{(\kwd{NOT} \VAR{type})}
  {
  Complement of type.
  }

  \IT{(\kwd*{AND} \OPn{\VAR{type}}\DF{\T})}
  {
  Type specifier for intersection of \VAR{type}s.
  }

  \IT{(\kwd*{OR} \OPn{\VAR{type}}\DF{\NIL})}
  {
  Type specifier for union of \VAR{type}s.
  }

  \IT{(\kwd*{VALUES} \OPn{\VAR{type}} \OP{\OPn{\VAR{type}}
      \Op{\VAR{other-args}}})}
  {
  Type specifier for multiple values.
  }

  \end{LIST}


